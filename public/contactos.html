<!DOCTYPE html>

<html lang="es">
<head>
<!-- Google tag (gtag.js) -->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-PHHCK23VK6"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-XNJT1V3G6T');
</script>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1" name="viewport"/>
<title>Aegis8 ‚Äî Cont√°ctanos</title>
<meta content="Cont√°ctanos: mensaje claro, gu√≠a r√°pida y experiencia interactiva." name="description"/>
<meta content="#0B2A5B" name="theme-color"/>
<link href="https://fonts.googleapis.com" rel="preconnect"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700;800;900&amp;display=swap" rel="stylesheet"/>
<style>

    :root{
      --bg: #F7FBFF;
      --card: #FFFFFF;
      --text: #0B1B34;
      --muted:#4B5E7B;
      --line:#DCEBFF;
      --blue:#0B2A5B;
      --sky:#2FA9FF;
      --sky2:#8FD3FF;
      --shadow: 0 18px 45px rgba(11,42,91,.10);
      --radius: 18px;
      --radius2: 26px;
      --max: 920px;
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      font-family: "Space Grotesk", ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(900px 420px at 20% -10%, rgba(47,169,255,.25), transparent 60%),
        radial-gradient(900px 420px at 90% 0%, rgba(143,211,255,.25), transparent 60%),
        linear-gradient(180deg, #FFFFFF 0%, var(--bg) 100%);
      line-height:1.45;
    }

    a{ color:inherit; text-decoration:none; }
    .wrap{ max-width: var(--max); margin: 0 auto; padding: 0 20px; }
    .center{ text-align:center; }
    .muted{ color:var(--muted); }
    .prose-center{max-width:72ch;margin:0 auto;text-align:center;}
    .prose-center p{margin:0 0 10px;}
    .prose-center p:last-child{margin-bottom:0;}

    .pill{
      display:inline-flex; align-items:center; gap:10px;
      padding:8px 12px;
      border:1px solid var(--line);
      background:rgba(255,255,255,.8);
      border-radius:999px;
      box-shadow: 0 8px 25px rgba(11,42,91,.06);
      backdrop-filter: blur(8px);
    }
    .dot{
      width:10px; height:10px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, var(--sky2), var(--sky));
      box-shadow: 0 0 0 4px rgba(47,169,255,.12);
    }

    
    
    .hero-logo-row{
      margin: -18px auto -22px; /* closer to header + closer to title */
      display:flex;
      justify-content:center;
      align-items:center;
      position: relative;
    }

    .hero-logo-img{
      width: 520px;
      max-width: 96%;
      height:auto;
      object-fit: contain;
      filter: drop-shadow(0 18px 40px rgba(47,169,255,.18));
      display:block;
    }

    @media (max-width: 760px){
      .hero-logo-row{ margin: -10px auto -14px; }
      .hero-logo-img{ width: 360px; }
    }

    /* Header */

header{
  position:sticky; top:0; z-index:50;
  background: rgba(255,255,255,.68);
  backdrop-filter: blur(12px);
  border-bottom: 1px solid rgba(220,235,255,.78);
}

/* a subtle "floating bar" inside the sticky header */
.nav{
  display:grid;
  grid-template-columns: auto;
  justify-content:center;
  align-items:center;
  padding:10px 0;
  gap:14px;
}

.brand{ justify-self:start; display:flex; align-items:center; gap:12px; min-width: 190px; }
header nav{ justify-self:center; }
.nav-right{ display:none; }

.logo{
  width:40px; height:40px; border-radius:14px;
  background: linear-gradient(135deg, var(--blue), #0D3B85);
  position:relative;
  box-shadow: 0 16px 34px rgba(11,42,91,.16);
}
.logo:before{
  content:"";
  position:absolute; inset:9px 11px;
  border-radius:10px 10px 14px 14px;
  background: linear-gradient(135deg, rgba(143,211,255,.95), rgba(47,169,255,.85));
  clip-path: polygon(50% 0%, 92% 18%, 92% 55%, 50% 100%, 8% 55%, 8% 18%);
  opacity:.95;
}

.brand strong{ font-size:16px; letter-spacing:.2px; line-height:1.05; }
.brand span{ font-size:12px; color:var(--muted); display:block; margin-top:2px; line-height:1.2; }

/* Desktop nav visibility */
header nav{ display:block; }

/* Desktop links */
nav ul{
  list-style:none; padding:0; margin:0;
  display:flex; align-items:center; gap:8px;
  padding:8px;
  border-radius: 999px;
  border: 1px solid rgba(220,235,255,.9);
  background: rgba(255,255,255,.82);
  box-shadow: 0 14px 34px rgba(11,42,91,.08);
  backdrop-filter: blur(10px);
}

nav a{
  font-size:13.5px;
  color: rgba(11,27,52,.86);
  padding:10px 12px;
  border-radius: 999px;
  transition: background .16s ease, color .16s ease, transform .12s ease;
  white-space: nowrap;
  position: relative;
}
nav a:hover{
  background: rgba(220,235,255,.55);
  color: var(--blue);
  transform: translateY(-1px);
}

/* Active state (set by JS) */
nav a.active{
  color: var(--blue);
  background: linear-gradient(135deg, rgba(47,169,255,.14), rgba(143,211,255,.24));
  border: 1px solid rgba(47,169,255,.30);
  box-shadow: 0 14px 32px rgba(11,42,91,.10);
}

/* Nav CTA link (Cont√°ctanos) */
.nav-cta{
  border: 1px solid rgba(47,169,255,.35);
  background: linear-gradient(135deg, rgba(47,169,255,.14), rgba(143,211,255,.26));
  box-shadow: 0 14px 34px rgba(11,42,91,.10);
}
.nav-cta:hover{
  background: linear-gradient(135deg, rgba(47,169,255,.18), rgba(143,211,255,.32));
  color: var(--blue) !important;
}

/* Focus styles (keyboard friendly) */
nav a:focus-visible,
.menu-btn:focus-visible{
  outline: 3px solid rgba(47,169,255,.35);
  outline-offset: 3px;
}

/* Mobile nav button */
.menu-btn{
  display:none;
  width:46px; height:46px;
  border-radius: 16px;
  border:1px solid rgba(220,235,255,.95);
  background: rgba(255,255,255,.88);
  box-shadow: 0 14px 34px rgba(11,42,91,.10);
  cursor:pointer;
  align-items:center; justify-content:center;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
}
.menu-btn:hover{
  transform: translateY(-1px);
  box-shadow: 0 18px 45px rgba(11,42,91,.14);
}
.menu-lines{ width:18px; height:12px; position:relative; }
.menu-lines span{
  position:absolute; left:0; right:0; height:2px; border-radius:99px;
  background: rgba(11,42,91,.78);
  transition: transform .18s ease, top .18s ease, opacity .18s ease;
}
.menu-lines span:nth-child(1){ top:0; }
.menu-lines span:nth-child(2){ top:5px; }
.menu-lines span:nth-child(3){ top:10px; }

/* Burger to X when open */
.menu-btn.is-open .menu-lines span:nth-child(1){ top:5px; transform: rotate(45deg); }
.menu-btn.is-open .menu-lines span:nth-child(2){ opacity:0; }
.menu-btn.is-open .menu-lines span:nth-child(3){ top:5px; transform: rotate(-45deg); }

/* Mobile panel: animated dropdown */
.mobile-panel{
  display:block;            /* keep in layout for animation */
  max-height: 0;
  overflow:hidden;
  transition: max-height .22s ease;
  padding: 0 0 0 0;
}
.mobile-panel.is-open{
  max-height: 520px;
  padding: 0 0 14px 0;
}
.mobile-panel a{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  padding:12px 12px;
  border:1px solid rgba(220,235,255,.95);
  border-radius: 16px;
  background: rgba(255,255,255,.88);
  margin:10px 0;
  font-weight:700;
  color: rgba(11,27,52,.9);
  box-shadow: 0 12px 28px rgba(11,42,91,.08);
}
.mobile-panel a:hover{
  background: rgba(220,235,255,.55);
  color: var(--blue);
}

/* Responsive */
@media (max-width: 760px){
  nav ul{ display:none; }
  .menu-btn{ display:inline-flex; }
  .nav{ grid-template-columns: auto auto; justify-content:space-between; }
  header nav{ display:none; }
}


    /* Sections */
    main{ padding: 0px 0 60px; }
    .hero{ padding: 4px 0 10px; text-align:center; }
    .hero-grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:28px;
      align-items:stretch;
      margin-top: 10px;
    }
    h1{
      font-size: clamp(32px, 4vw, 46px);
      line-height: 1.08;
      margin: 6px 0 26px;
      letter-spacing: -0.6px;
    }
    
    /* Title styling: cyber gradient, not "dead" black */
    h1, .sec-head h2{
      font-weight: 900;
      letter-spacing: -0.7px;
      background: linear-gradient(90deg, rgba(11,42,91,1) 0%, rgba(47,169,255,1) 55%, rgba(143,211,255,1) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      filter: drop-shadow(0 14px 26px rgba(47,169,255,.10));
    }
    /* Keep paragraph text readable */
    .sec-head h2{ letter-spacing: -0.35px; }

    /* Hero emblem */
    .hero-emblem{
      margin: 28px auto 18px;
      position: relative;
      width: 100%;
      display:flex;
      justify-content:center;
      align-items:center;
    }
    .emblem-svg{
      width: 130px;
      height: 130px;
      display:block;
      filter: drop-shadow(0 24px 55px rgba(47,169,255,.18));
      animation: floaty 3.8s ease-in-out infinite;
    }
    .emblem-img{
      width: 360px;
      max-width: 90%;
      height: auto;
      object-fit: contain;
      display:block;
      margin: 0 auto;
      filter: drop-shadow(0 28px 65px rgba(47,169,255,.22));
      animation: floaty 3.8s ease-in-out infinite;
    }
    .emblem-glow{
      position:absolute;
      inset: 22px;
      border-radius: 26px;
      background: radial-gradient(circle at 30% 25%, rgba(143,211,255,.35), rgba(47,169,255,.10), transparent 70%);
      filter: blur(10px);
      z-index:-1;
      animation: pulse 3.2s ease-in-out infinite;
    }
    @keyframes floaty{
      0%,100%{ transform: translateY(0); }
      50%{ transform: translateY(-6px); }
    }
    @keyframes pulse{
      0%,100%{ opacity:.8; transform: scale(1); }
      50%{ opacity:1; transform: scale(1.06); }
    }

    /* Principle strip (no "PRINCIPIO" label) */
    .principle-strip{
      margin: 10px auto 0;
      width: min(900px, 100%);
      border-radius: 18px;
      border: 1px solid rgba(47,169,255,.28);
      background:
        linear-gradient(135deg, rgba(47,169,255,.10), rgba(143,211,255,.16)),
        repeating-linear-gradient(90deg, rgba(255,255,255,.0) 0, rgba(255,255,255,.0) 14px, rgba(47,169,255,.06) 15px, rgba(255,255,255,.0) 30px);
      box-shadow: 0 22px 60px rgba(11,42,91,.10);
      padding: 16px 16px;
      display:flex;
      align-items:center;
      justify-content:center;
      gap: 12px;
      position: relative;
      overflow:hidden;
    }
    .principle-strip:before{
      content:"";
      position:absolute;
      inset:-2px;
      background: radial-gradient(520px 180px at 20% 0%, rgba(47,169,255,.20), transparent 60%);
      opacity:.9;
      pointer-events:none;
    }
    .p-ico{
      width: 34px; height: 34px;
      border-radius: 14px;
      border: 1px solid rgba(220,235,255,.95);
      background: rgba(255,255,255,.75);
      display:grid; place-items:center;
      color: rgba(11,42,91,.92);
      flex: 0 0 auto;
      box-shadow: 0 14px 30px rgba(11,42,91,.06);
    }
    .p-ico svg{ width: 20px; height: 20px; }
    .p-text{
      position: relative;
      color: rgba(11,27,52,.92);
      font-weight: 700;
      text-align:center;
    }
    .p-text strong{
      background: linear-gradient(90deg, rgba(47,169,255,.25), rgba(143,211,255,.35));
      border: 1px solid rgba(47,169,255,.25);
      padding: 0 .35em;
      border-radius: .65em;
      white-space: nowrap;
    }
    .p-line{
      position:absolute;
      left: 10%;
      right: 10%;
      bottom: 8px;
      height: 1px;
      border-radius: 99px;
      background: linear-gradient(90deg, rgba(47,169,255,0), rgba(47,169,255,.55), rgba(143,211,255,.70), rgba(47,169,255,.55), rgba(47,169,255,0));
      opacity:.85;
      animation: shimmer 2.6s ease-in-out infinite;
    }
    @keyframes shimmer{
      0%,100%{ filter: blur(0px); opacity:.75; }
      50%{ filter: blur(.3px); opacity:1; }
    }

    /* Tile icons */
    .tile-top{
      display:flex;
      align-items:center;
      justify-content:flex-start;
      gap: 10px;
      margin-bottom: 10px;
      padding-right: 56px; /* espacio para el icono */
    }
    .tile-ico{
      position:absolute;
      top: 16px;
      right: 16px;
      width: 46px;
      height: 46px;
      border-radius: 16px;
      border: 1px solid rgba(140,198,255,.55);
      background: rgba(255,255,255,.78);
      display:grid;
      place-items:center;
      color: rgba(11,42,91,.92);
      box-shadow: 0 18px 44px rgba(11,42,91,.10);
      backdrop-filter: blur(10px);
    }
    .tile-ico svg{ width: 20px; height: 20px; }

.lead{
      font-size: clamp(16px, 1.35vw, 18px);
      color: var(--muted);
      margin: 0px auto 18px;
      max-width: 62ch;
      text-align: center;
    }
    .hero-cta{ display:flex; gap:12px; flex-wrap:wrap; align-items:center; }

    .card{
      background: rgba(255,255,255,.9);
      border:1px solid var(--line);
      border-radius: var(--radius2);
      box-shadow: var(--shadow);
    }
    .hero-card{
      padding: 18px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      min-height: 100%;
    }
    .stat{
      display:flex; gap:14px; align-items:flex-start;
      padding:14px;
      border-radius: var(--radius);
      border:1px solid rgba(220,235,255,.85);
      background: linear-gradient(135deg, rgba(47,169,255,.10), rgba(143,211,255,.18));
      margin-top: 12px;
    }
    .ico{
      width:40px; height:40px; border-radius: 14px;
      background: rgba(11,42,91,.08);
      border:1px solid rgba(220,235,255,.95);
      display:grid; place-items:center;
      color: var(--blue);
      font-weight:800;
    }
    .stat strong{ display:block; font-size:14px; }
    .stat span{ display:block; font-size:13px; color: var(--muted); margin-top:4px; }

    section{
      padding: 52px 0;
    }
    .sec-head{
      display:flex; flex-direction:column; gap:8px;
      margin-bottom: 18px;
      align-items:center;
      text-align:center;
    }
    .sec-head h2{
      margin:0;
      font-size: clamp(22px, 2.3vw, 30px);
      letter-spacing: -0.3px;
    }
    .grid-2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:18px;
    }
    .grid-4{
      display:grid;
      grid-template-columns: repeat(4, 1fr);
      gap:14px;
    }
    

    .grid-3{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:14px;
    }

    /* Clickable cards */
    .stat-btn, .tile-btn{
      text-align:left;
      cursor:pointer;
    }
    .stat-btn{
      width:100%;
      background: linear-gradient(135deg, rgba(47,169,255,.10), rgba(143,211,255,.18));
    }
    .stat-btn:focus-visible, .tile-btn:focus-visible{
      outline: 3px solid rgba(47,169,255,.35);
      outline-offset: 3px;
    }
    .tile-btn{
      background: rgba(255,255,255,.92);
      transition: transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .tile-btn:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 50px rgba(11,42,91,.12);
      border-color: rgba(47,169,255,.35);
    }

    /* Subtle entrance animation */
    .reveal{
      opacity:0;
      transform: translateY(10px);
      transition: opacity .55s ease, transform .55s ease;
    }
    .reveal.on{
      opacity:1;
      transform:none;
    }

    /* Modal */
    .modal{
      position:fixed; inset:0; z-index:1000;
      display:none;
      padding: 18px;
      background: rgba(11,27,52,.55);
      backdrop-filter: blur(6px);
    }
    .modal.show{ display:grid; place-items:center; }
    .modal-dialog{
      width: min(780px, 100%);
      background: rgba(255,255,255,.96);
      border: 1px solid rgba(220,235,255,.95);
      border-radius: 22px;
      box-shadow: 0 28px 70px rgba(11,42,91,.22);
      overflow:hidden;
      animation: modalIn .18s ease-out;
    }
    @keyframes modalIn{
      from{ transform: translateY(8px) scale(.99); opacity:.0; }
      to{ transform: none; opacity:1; }
    }
    .modal-head{
      padding: 16px 16px 12px;
      border-bottom: 1px solid rgba(220,235,255,.9);
      background: linear-gradient(135deg, rgba(47,169,255,.10), rgba(143,211,255,.18));
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
    }
    .modal-title{
      margin:0;
      font-size: 18px;
      letter-spacing: -0.2px;
      color: var(--blue);
    }
    .modal-close{
      width:42px; height:42px;
      border-radius: 14px;
      border:1px solid rgba(220,235,255,.95);
      background: rgba(255,255,255,.9);
      cursor:pointer;
      display:grid; place-items:center;
      color: rgba(11,42,91,.85);
      box-shadow: 0 12px 30px rgba(11,42,91,.10);
    }
    .modal-body{
      padding: 14px 16px 16px;
      color: rgba(11,27,52,.92);
    }
    .modal-body p{ margin: 0 0 10px; color: var(--muted); }
    .modal-body ul{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }
    .modal-body li{ margin: 7px 0; }
.tile{
      position: relative;
      overflow: hidden;
      padding: 18px 18px 16px;
      border-radius: var(--radius2);
      border: 1px solid rgba(140, 198, 255, .55);
      background:
        linear-gradient(135deg,
          rgba(255,255,255,.96) 0%,
          rgba(47,169,255,.07) 38%,
          rgba(143,211,255,.18) 100%);
      box-shadow: 0 18px 44px rgba(11,42,91,.10);
      min-height: 168px;
      transition: transform .22s ease, box-shadow .22s ease, border-color .22s ease;
    }
    .tile::after{
      content:"";
      position:absolute;
      top:-120px; right:-140px;
      width: 340px; height: 340px;
      border-radius: 999px;
      background: radial-gradient(circle at 30% 30%,
        rgba(47,169,255,.18) 0%,
        rgba(143,211,255,.12) 35%,
        rgba(143,211,255,0) 70%);
      pointer-events:none;
    }
    .tile::before{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(900px 340px at 20% 0%,
          rgba(47,169,255,.09), transparent 60%);
      pointer-events:none;
    }
    .tile:hover{
      transform: translateY(-3px);
      box-shadow: 0 26px 70px rgba(11,42,91,.14);
      border-color: rgba(47,169,255,.70);
    }
    .tile h3{
      margin: 10px 0 8px;
      font-size: 16px;
      letter-spacing: -0.1px;
    }
    .tile p{
      margin: 0;
      color: var(--muted);
      font-size: 14px;
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding: 8px 10px;
      border-radius: 999px;
      border:1px solid rgba(220,235,255,.9);
      background: rgba(47,169,255,.08);
      color: rgba(11,42,91,.88);
      font-weight:700;
      font-size: 12px;
    }

    .values{
      display:grid;
      grid-template-columns: 1.1fr .9fr;
      gap: 18px;
      align-items:start;
    }
    .list{
      margin:0; padding:0; list-style:none;
      display:flex; flex-direction:column; gap:10px;
    }
    .list li{
      display:flex; gap:10px; align-items:flex-start;
      padding: 12px 12px;
      border-radius: var(--radius);
      border:1px solid var(--line);
      background: rgba(255,255,255,.92);
    }
    .check{
      width:26px; height:26px; border-radius: 10px;
      background: linear-gradient(135deg, rgba(47,169,255,.20), rgba(143,211,255,.35));
      border:1px solid rgba(47,169,255,.25);
      display:grid; place-items:center;
      color: var(--blue);
      font-weight:900;
      flex: 0 0 auto;
    }
    .list strong{ display:block; font-size:14px; }
    .list span{ display:block; font-size:13px; color: var(--muted); margin-top:2px; }

    .social{
      padding: 18px;
      border-radius: var(--radius2);
      border: 1px solid rgba(47,169,255,.25);
      background: linear-gradient(135deg, rgba(47,169,255,.12), rgba(143,211,255,.22));
      box-shadow: 0 18px 45px rgba(11,42,91,.10);
    }
footer{
  padding: 26px 0 30px;
  border-top: 1px solid rgba(220,235,255,.9);
  background:
    linear-gradient(180deg, rgba(255,255,255,.75), rgba(247,251,255,.95));
}
    .foot{
      display:flex; align-items:flex-start; justify-content:space-between; gap:18px;
      flex-wrap:wrap;
    }
    .foot small{ color: var(--muted); }
    .foot a{ text-decoration: underline; text-underline-offset: 3px; }

    /* Responsive */
    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      .grid-4{ grid-template-columns: repeat(2, 1fr); }
      .grid-3{ grid-template-columns: 1fr; }
      .values{ grid-template-columns: 1fr; }
    }
    @media (max-width: 760px){
      nav ul{ display:none; }
      .menu-btn{ display:inline-flex; }
      .grid-2{ grid-template-columns: 1fr; }
      .grid-4{ grid-template-columns: 1fr; }
      .grid-3{ grid-template-columns: 1fr; }
      .wrap{ max-width: var(--max); margin: 0 auto; padding: 0 14px; }
      .hero{ padding-top: 0px; text-align:center; }
      .hero-card{ padding: 16px; }
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      *{ scroll-behavior:auto !important; transition:none !important; }
    }
  

    /* Make sections feel concentrated and centered */
    section{ padding: 46px 0; }
    .sec-head{ align-items:center; text-align:center; }
    .sec-head p{ margin-left:auto !important; margin-right:auto !important; }

    /* Constrain long copy */
/* Cards: keep them smaller and centered */
    .grid-2, .grid-3, .grid-4{
      justify-content: center;
    }
    .grid-2{
      grid-template-columns: repeat(2, minmax(0, 420px));
      justify-content:center;
    }
    .grid-3{
      grid-template-columns: repeat(3, minmax(0, 320px));
      justify-content:center;
    }
    .grid-4{
      grid-template-columns: repeat(4, minmax(0, 260px));
      justify-content:center;
    }
    .tile, .card{
      max-width: 420px;
      margin-left:auto;
      margin-right:auto;
    }

    @media (max-width: 980px){
      .grid-4{ grid-template-columns: repeat(2, minmax(0, 320px)); }
      .grid-3{ grid-template-columns: repeat(2, minmax(0, 340px)); }
    }
    @media (max-width: 760px){
      section{ padding: 38px 0; }
      .grid-4, .grid-3, .grid-2{ grid-template-columns: 1fr; }
      .tile, .card{ max-width: 560px; }
      .emblem-img{
      width: 360px;
      max-width: 90%;
      height: auto;
      object-fit: contain;
      display:block;
      margin: 0 auto;
      filter: drop-shadow(0 28px 65px rgba(47,169,255,.22));
      animation: floaty 3.8s ease-in-out infinite;
    }
    }

.sec-sub{
margin: 0 auto;
      max-width: 64ch;
      text-align: center;
      color: var(--muted);
      font-size: 14.5px;
      line-height: 1.55;
}
/* Compact stacked paragraphs in section headers */
    .sec-head .sec-sub + .sec-sub{ margin-top: 6px !important; }


/* === Cards style synced with A qui√©nes ayudamos === */
/* Personas cards */
    .persona{
      position:relative;
      padding:16px;
      text-align:left;
      cursor:pointer;
      overflow:hidden;
      transition:transform .15s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .persona:hover{transform:translateY(-2px);box-shadow:0 18px 50px rgba(11,42,91,.12);border-color:rgba(47,169,255,.35)}
    .tag{
      display:inline-flex;align-items:center;gap:8px;
      padding:8px 10px;border-radius:999px;
      border:1px solid rgba(220,235,255,.9);
      background:rgba(47,169,255,.08);
      color:rgba(11,42,91,.88);
      font-weight:900;font-size:12px;
      white-space:nowrap;
    }
    .persona h3{margin:10px 0 6px;font-size:18px;letter-spacing:-.14px}
    .persona p{margin:0;color:var(--muted);font-size:14.2px}
    .icon{
      width:44px;height:44px;border-radius:16px;border:1px solid rgba(220,235,255,.95);
      background:rgba(255,255,255,.9);
      box-shadow:0 12px 30px rgba(11,42,91,.06);
      display:grid;place-items:center;
      position:absolute;top:14px;right:14px;
    }
    .persona:after{
      content:"";position:absolute;inset:auto -80px -80px auto;
      width:260px;height:260px;border-radius:50%;
      background:radial-gradient(circle at 30% 30%, rgba(143,211,255,.35), rgba(47,169,255,.0) 70%);
      transform:rotate(18deg);
      opacity:.85;pointer-events:none;
    }

    

/* === Qui√©nes somos: texto en 3 pasos + imagen === */
.qs{ margin-top: 10px; }
.qs-stage{ position:relative; min-height: 0; }
.qs-panel{
  display:none;
  padding-top: 4px;
  animation: qsIn .18s ease-out;
}
.qs-panel.is-active{ display:block; }
@keyframes qsIn{
  from{ opacity:0; transform: translateY(6px); }
  to{ opacity:1; transform:none; }
}
.qs-text{ margin-top: 6px !important; }
.qs-illus{
  margin: 14px auto 0;
  width: min(560px, 100%);
  border-radius: 22px;
  overflow:hidden;
  box-shadow: 0 18px 55px rgba(11,42,91,.10);
}
.qs-illus svg, .qs-illus img{ width:100%; height:auto; display:block; }

.qs-nav{
  display:flex;
  align-items:center;
  justify-content:center;
  gap: 14px;
  margin-top: 14px;
}
.qs-btn{
  width: 52px;
  height: 52px;
  border-radius: 18px;
  border: 1px solid rgba(47,169,255,.35);
  background: rgba(255,255,255,.86);
  box-shadow: 0 14px 36px rgba(11,42,91,.10);
  display:grid;
  place-items:center;
  cursor:pointer;
  transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  position:relative;
}
.qs-btn:hover{ transform: translateY(-1px); box-shadow: 0 18px 45px rgba(11,42,91,.14); }
.qs-btn:disabled{
  opacity: .45;
  cursor: not-allowed;
  transform:none;
  box-shadow: 0 10px 26px rgba(11,42,91,.08);
}
.qs-btn-shield{
  position:absolute;
  inset: 12px;
  display:grid;
  place-items:center;
  color: rgba(11,42,91,.88);
}
.qs-btn-shield svg{ width: 100%; height: 100%; }
.qs-arrow{
  position:absolute;
  font-weight: 900;
  font-size: 18px;
  color: rgba(47,169,255,.95);
  text-shadow: 0 12px 26px rgba(47,169,255,.18);
}
.qs-dots{
  display:flex;
  gap: 8px;
  align-items:center;
  justify-content:center;
  padding: 6px 10px;
  border-radius: 999px;
  border:1px solid rgba(220,235,255,.9);
  background: rgba(255,255,255,.75);
  box-shadow: 0 10px 24px rgba(11,42,91,.06);
}
.qs-dot{
  width: 10px;
  height: 10px;
  border-radius: 999px;
  border: 1px solid rgba(47,169,255,.45);
  background: rgba(47,169,255,.12);
  cursor:pointer;
}
.qs-dot.is-on{
  background: linear-gradient(135deg, rgba(47,169,255,.55), rgba(143,211,255,.85));
  border-color: rgba(47,169,255,.0);
}


/* ===== Contactos: interactive, still "Aegis8 index style" ===== */
.contact-shell{display:grid;grid-template-columns:1.1fr .9fr;gap:18px;align-items:start;}
@media (max-width: 980px){.contact-shell{grid-template-columns:1fr;}}
.fun-bar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:center;margin: 12px auto 0;}
.fun-pill{display:inline-flex;align-items:center;gap:10px;padding:10px 12px;border-radius:999px;border:1px solid rgba(220,235,255,.95);background:rgba(255,255,255,.82);box-shadow:0 10px 24px rgba(11,42,91,.06);user-select:none;}
.fun-pill b{color:rgba(11,42,91,.92)}
.spark{width:10px;height:10px;border-radius:999px;background: radial-gradient(circle at 30% 30%, var(--sky2), var(--sky));box-shadow:0 0 0 4px rgba(47,169,255,.10);}
.contact-card{padding:18px;}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:12px;}
@media (max-width:760px){.form-grid{grid-template-columns:1fr;}}
.field label{display:block;font-weight:900;color:rgba(11,42,91,.9);font-size:13px;margin-bottom:6px;}
.input, textarea, select{width:100%;padding:12px 12px;border-radius:16px;border:1px solid rgba(220,235,255,.95);background: rgba(255,255,255,.92);box-shadow:0 12px 30px rgba(11,42,91,.06);font: inherit;outline:none;}
textarea{min-height:140px;resize:vertical;}
.input:focus, textarea:focus, select:focus{border-color: rgba(47,169,255,.45);box-shadow: 0 18px 45px rgba(11,42,91,.10);}
.helper-row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;justify-content:space-between;margin-top:10px;}
.counter{font-size:12.5px;color:var(--muted);}
.counter strong{color:rgba(11,42,91,.92);}
.meter{border-radius:18px;border:1px solid rgba(220,235,255,.95);background: rgba(255,255,255,.90);box-shadow:0 12px 30px rgba(11,42,91,.06);padding:14px;}
.meter h3{margin:0 0 8px;font-size:16px;letter-spacing:-.15px;}
.meter p{margin:0;color:var(--muted);font-size:13.5px;}
.meter .row{display:flex;align-items:center;gap:10px;margin-top:12px;flex-wrap:wrap;}
.meter .bar{flex:1 1 220px;height:12px;border-radius:999px;background: rgba(11,42,91,.08);overflow:hidden;position:relative;}
.meter .fill{height:100%;width:25%;border-radius:999px;background: linear-gradient(90deg, rgba(47,169,255,.75), rgba(143,211,255,.95));box-shadow:0 10px 24px rgba(47,169,255,.18);transition: width .18s ease;}
.meter .badge-mini{display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:999px;border:1px solid rgba(220,235,255,.95);background: rgba(47,169,255,.08);color: rgba(11,42,91,.88);font-weight:900;font-size:12px;}
.preview{padding:18px;position:sticky;top: 92px;}
@media (max-width:980px){.preview{position:static;top:auto;}}
.preview .mini{display:flex;align-items:flex-start;gap:12px;padding:12px 14px;border-radius:18px;border:1px solid rgba(220,235,255,.95);background:rgba(255,255,255,.90);box-shadow:0 12px 30px rgba(11,42,91,.06);}
.preview .mini .mini-icon{width:42px;height:42px;border-radius:16px;border:1px solid rgba(47,169,255,.28);background:linear-gradient(135deg, rgba(47,169,255,.14), rgba(143,211,255,.24));display:grid;place-items:center;color:rgba(11,42,91,.92);font-weight:1000;flex:0 0 auto;}
.preview .mini p{margin:0;color:var(--muted);font-size:13.5px;}
.preview .mini strong{color:rgba(11,42,91,.92);}
.preview .card{padding:16px;margin-top:12px;}
.preview h3{margin:0 0 8px;font-size:16px;letter-spacing:-.15px;}
.preview .kv{display:grid;gap:8px;margin-top:10px;}
.kv .kv-row{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:10px 12px;border-radius:16px;border:1px solid rgba(220,235,255,.95);background:rgba(255,255,255,.85);}
.kv .k{font-size:12px;font-weight:900;color:rgba(11,42,91,.82)}
.kv .v{font-size:12.5px;color:var(--muted);text-align:right;max-width:60%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
.preset-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px;}
@media (max-width:980px){.preset-grid{grid-template-columns:repeat(2,1fr);}}
@media (max-width:760px){.preset-grid{grid-template-columns:1fr;}}
.preset{text-align:left;cursor:pointer;padding:14px;border-radius:18px;border:1px solid rgba(220,235,255,.95);background: linear-gradient(135deg, rgba(255,255,255,.96), rgba(47,169,255,.07) 38%, rgba(143,211,255,.18));box-shadow:0 14px 34px rgba(11,42,91,.08);transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;position:relative;overflow:hidden;}
.preset:hover{transform:translateY(-2px);box-shadow:0 18px 50px rgba(11,42,91,.12);border-color:rgba(47,169,255,.35)}
.preset:before{content:"";position:absolute;inset:-2px;background: radial-gradient(520px 220px at 15% 10%, rgba(47,169,255,.10), transparent 60%);opacity:.8;pointer-events:none;}
.preset>*{position:relative}
.preset h4{margin:0 0 6px;font-size:14px;letter-spacing:-.1px}
.preset p{margin:0;color:var(--muted);font-size:12.8px;line-height:1.45}
.preset .tag{margin-top:10px;display:inline-flex}
.toast{position: fixed; left: 50%; transform: translateX(-50%);bottom: 18px;z-index: 9999;background: rgba(255,255,255,.92);border: 1px solid rgba(220,235,255,.95);box-shadow: 0 18px 55px rgba(11,42,91,.14);border-radius: 999px;padding: 10px 12px;display:flex; align-items:center; gap:10px;opacity:0; pointer-events:none;transition: opacity .16s ease, transform .16s ease;}
.toast.show{opacity:1;pointer-events:auto;transform: translateX(-50%) translateY(-2px);}
.toast .spark{width:9px;height:9px}
.toast span{font-weight:800;color:rgba(11,42,91,.9);font-size:13px}

  
/* === Center contact layout === */
#contacto .wrap{max-width: 980px;}
.contact-shell{margin-left:auto;margin-right:auto;}


/* === Contactos: lift + true center (override global card max-width constraints) === */
#contacto{ padding-top: 22px; }
#contacto .sec-head{ margin-bottom: 14px; }
#contacto .wrap{ max-width: 980px; }
#contacto .contact-shell{ width: 100%; margin-left:auto; margin-right:auto; }
#contacto .card{ max-width: none !important; }
#contacto .preview{ max-width: none !important; }


/* === Turnstile + form status (security) === */
.status{
  padding:12px 14px;
  border-radius:16px;
  border:1px solid rgba(220,235,255,.95);
  background: rgba(255,255,255,.9);
  color: var(--muted);
  box-shadow: 0 12px 30px rgba(11,42,91,.06);
}
.status.ok{
  border-color: rgba(47,169,255,.45);
  background: linear-gradient(135deg, rgba(47,169,255,.10), rgba(143,211,255,.16));
  color: rgba(11,42,91,.92);
  font-weight: 800;
}
.status.err{
  border-color: rgba(255,77,109,.45);
  background: linear-gradient(135deg, rgba(255,77,109,.10), rgba(255,255,255,.92));
  color: rgba(11,27,52,.92);
  font-weight: 800;
}
.turnstile-wrap{
  margin-top: 10px;
  padding: 12px;
  border-radius: 18px;
  border: 1px solid rgba(220,235,255,.95);
  background: rgba(255,255,255,.88);
  box-shadow: 0 12px 30px rgba(11,42,91,.06);
}
.turnstile-note{
  margin-top: 8px;
  font-size: 12.5px;
  color: var(--muted);
}
.btn[disabled]{
  opacity: .55;
  cursor: not-allowed;
  transform:none !important;
}


/* Hotfix: avoid blank pages if reveal JS fails */
.reveal{opacity:1 !important; transform:none !important;}
</style>
<script async="" defer="" src="https://challenges.cloudflare.com/turnstile/v0/api.js"></script>
</head>
<body>
<div aria-hidden="true" class="progress" id="progress"></div>
<header>
<div class="wrap">
<div class="nav">
<button aria-expanded="false" aria-label="Abrir men√∫" class="menu-btn" id="menuBtn" type="button">
<div aria-hidden="true" class="menu-lines">
<span></span><span></span><span></span>
</div>
</button>
<nav aria-label="Navegaci√≥n principal">
<ul id="navLinks">
<li><a data-page="comotrabajamos.html" href="comotrabajamos.html">C√≥mo trabajamos</a></li>
<li><a data-page="recursos.html" href="recursos.html">C√°psulas</a></li>
<li><a data-page="propuesta.html" href="propuesta.html">Propuesta</a></li>
<li><a data-hash="#quienes" href="index.html#quienes">Qui√©nes somos</a></li>
<li><a data-page="psocial.html" href="psocial.html">Proyecto social</a></li>
<li><a class="nav-cta" data-page="contactanos.html" href="contactanos.html">Cont√°ctanos</a></li>
</ul>
<a href="quienessomos.html">Qui√©nes somos</a>
\1
<div class="right nav-right">
<!-- espacio para CTA futuro -->
</div>
</div>
<div aria-label="Navegaci√≥n m√≥vil" class="mobile-panel" id="mobilePanel">
<a href="comotrabajamos.html">C√≥mo trabajamos</a>
<a href="recursos.html">C√°psulas</a>
<a href="ayudamos.html">A qui√©nes ayudamos</a>
<a href="index.html#quienes">Qui√©nes somos</a>
<a href="psocial.html">Proyecto social</a>
<a href="contactanos.html">Cont√°ctanos</a>
</div>
</div>
</header>
<main id="top">
<section class="hero">
<div class="wrap center">
<div class="pill reveal">
<span class="dot"></span>
<span><strong>Contacto</strong> ‚Äî sin humo, sin miedo</span>
</div>
<h1 class="reveal">Escr√≠benos y armamos el primer paso.</h1>
<p class="lead reveal">
        Dinos <span class="k">qui√©n eres</span>, <span class="k">qu√© quieres lograr</span> y el <span class="k">nivel de urgencia</span>.
        Nosotros te devolvemos un plan claro.
      </p>
<div class="prose-center reveal">
<p><strong>¬øC√≥mo funciona?</strong> Completa el formulario a tu ritmo. Puedes usar los <em>modos r√°pidos</em> para partir con una plantilla,
        ver la <em>vista previa</em> de lo que nos llega y ajustar la <em>urgencia</em>. No pedimos datos sensibles.</p>
<p class="muted">Mientras m√°s claro el contexto y el objetivo, mejor ser√° el primer plan que te devolvamos.</p>
</div>
<div aria-label="Atajos" class="fun-bar reveal">
<div class="fun-pill"><span class="spark"></span> <b>Tip:</b> Contexto claro = respuesta m√°s √∫til.</div>
<div class="fun-pill"><span class="spark"></span> <b>Regla:</b> No mandes credenciales ni datos sensibles.</div>
</div>
<div class="hero-cta center reveal" style="justify-content:center;margin-top:14px;">
<a class="btn primary" href="#contacto">Ir al formulario</a>
<a class="btn" href="https://instagram.com/aegis8ciber" rel="noopener" target="_blank">Instagram</a>
<button aria-haspopup="dialog" class="btn ghost" data-modal="m-plantilla" type="button">Plantilla</button>
</div>
<div aria-hidden="true" class="gradline"></div>
</div>
</section>
<section id="contacto">
<div class="wrap">
<div class="sec-head reveal">
<h2>Cu√©ntanos tu caso</h2>
<p class="sec-sub">Elige un ‚Äúmodo‚Äù y ver√°s c√≥mo se arma el mensaje en vivo.</p>
</div>
<div aria-label="Modos r√°pidos" class="preset-grid reveal">
<button class="preset" data-preset="persona" type="button">
<h4>üßç Persona</h4>
<p>Mejorar h√°bitos, cuentas y seguridad en casa.</p>
<span class="tag">r√°pido</span>
</button>
<button class="preset" data-preset="startup" type="button">
<h4>üöÄ Startup</h4>
<p>Orden m√≠nimo: accesos, correo, backups y cultura.</p>
<span class="tag">prioridad</span>
</button>
<button class="preset" data-preset="taller" type="button">
<h4>üéì Taller</h4>
<p>Capacitaci√≥n corta, pr√°ctica y con ejemplos.</p>
<span class="tag">educativo</span>
</button>
</div>
<div class="contact-shell" style="margin-top:14px;">
<div class="card contact-card reveal">
<form id="contactForm" novalidate="">
<div class="form-grid">
<div class="field">
<label for="nombre">Nombre</label>
<input autocomplete="name" class="input" id="nombre" name="nombre" placeholder="Tu nombre" required=""/>
</div>
<div class="field">
<label for="correo">Correo</label>
<input autocomplete="email" class="input" id="correo" name="correo" placeholder="tu@correo.com" required=""/>
</div>
<div class="field">
<label for="perfil">Soy</label>
<select class="input" id="perfil" name="perfil">
<option value="Persona">Persona</option>
<option value="Startup">Startup</option>
<option value="Peque√±a organizaci√≥n">Peque√±a organizaci√≥n</option>
<option value="Comunidad">Comunidad / educaci√≥n</option>
<option value="Otro">Otro</option>
</select>
</div>
<div class="field">
<label for="motivo">Busco</label>
<select class="input" id="motivo" name="motivo">
<option value="Orientaci√≥n / gu√≠a">Orientaci√≥n / gu√≠a</option>
<option value="Acompa√±amiento">Acompa√±amiento</option>
<option value="Taller / capacitaci√≥n">Taller / capacitaci√≥n</option>
<option value="Apoyar proyecto">Apoyar proyecto</option>
<option value="No estoy seguro">No estoy seguro</option>
</select>
</div>
<div class="field" style="grid-column:1/-1;">
<label for="mensaje">Mensaje</label>
<textarea class="input" id="mensaje" name="mensaje" placeholder="Contexto + objetivo + urgencia. (No mandes datos sensibles)"></textarea>
<div class="helper-row">
<div class="counter">Idea: <strong id="hint">describe tu contexto en 1‚Äì2 l√≠neas</strong></div>
<div class="counter"><strong id="count">0</strong>/500</div>
</div>
</div>
</div>
<div class="helper-row" style="margin-top:12px;">
<div class="counter">Urgencia</div>
<div style="flex:1 1 260px;max-width:420px;">
<input id="urgencia" max="100" min="0" style="width:100%;" type="range" value="30"/>
</div>
<div class="counter"><strong id="urgLabel">normal</strong></div>
</div>
<!-- Cloudflare Turnstile (anti-spam) -->
<div aria-label="Verificaci√≥n anti-spam" class="turnstile-wrap">
<div style="font-weight:900;color:rgba(11,42,91,.9);font-size:13px;margin-bottom:8px;">Verificaci√≥n anti‚Äëspam</div>
<!-- REEMPLAZA TU_SITE_KEY por tu Site Key de Cloudflare Turnstile -->
<div class="cf-turnstile" data-callback="onTurnstileSuccess" data-error-callback="onTurnstileError" data-expired-callback="onTurnstileExpired" data-response-field-name="cf-turnstile-response" data-sitekey="0x4AAAAAACJsmBKJRuB4ux1A" data-theme="light"></div>
<input id="turnstileToken" name="cf-turnstile-response" type="hidden" value=""/>
<div class="turnstile-note">Esto bloquea bots. No guardamos datos sensibles.</div>
</div>
<div class="btn-row" style="margin-top:14px;">
<button class="btn primary" disabled="" id="submitBtn" type="submit">Enviar</button>
<button class="btn" id="copyMsg" type="button">Copiar mensaje</button>
<button class="btn ghost" id="resetForm" type="button">Limpiar</button>
</div>
<div aria-live="polite" class="status" id="status" style="margin-top:12px;"></div>
</form>
</div>
<aside class="preview reveal">
<div class="mini">
<div class="mini-icon">‚ú¶</div>
<p><strong>Vista previa</strong><br/>Se actualiza en vivo con tus inputs.</p>
</div>
<div class="card" style="margin-top:12px;">
<h3>Resumen</h3>
<p class="muted" style="margin:0;">As√≠ llega tu solicitud (en corto).</p>
<div aria-label="Resumen en vivo" class="kv">
<div class="kv-row"><div class="k">Perfil</div><div class="v" id="pvPerfil">Persona</div></div>
<div class="kv-row"><div class="k">Motivo</div><div class="v" id="pvMotivo">Orientaci√≥n / gu√≠a</div></div>
<div class="kv-row"><div class="k">Urgencia</div><div class="v" id="pvUrg">normal</div></div>
<div class="kv-row"><div class="k">Mensaje</div><div class="v" id="pvMsg">‚Äî</div></div>
</div>
</div>
<div class="meter" style="margin-top:12px;">
<h3>‚ÄúClaridad‚Äù del mensaje</h3>
<p>Mientras m√°s completo, mejor el primer paso.</p>
<div class="row">
<div aria-hidden="true" class="bar"><div class="fill" id="clarityFill"></div></div>
<div class="badge-mini" id="clarityBadge">25%</div>
</div>
<div class="btn-row" style="margin-top:12px;">
<button class="btn ghost" id="suggestBtn" type="button">Sugerir mejora</button>
</div>
</div>
</aside>
</div>
</div>
</section>
</main>
<footer>
<div class="wrap">
<div class="foot" style="justify-content:center; text-align:center;">
<small>
        ¬© <span id="year"></span> <strong>Aegis8</strong> ¬∑ Consultora y proyecto educativo‚Äësocial de ciberseguridad.<br/>
<span class="muted">Seguridad clara, sin humo y con sentido.</span>
</small>
</div>
</div>
</footer>
<div aria-labelledby="t-plantilla" aria-modal="true" class="modal" id="m-plantilla" role="dialog">
<div class="modal-dialog">
<div class="modal-head">
<div>
<h3 class="modal-title" id="t-plantilla">Plantilla r√°pida (copia/pega)</h3>
<div class="muted" style="font-size:13px;margin-top:4px;">Para que te respondamos mejor, m√°s r√°pido.</div>
</div>
<button aria-label="Cerrar" class="modal-close" type="button">‚úï</button>
</div>
<div class="modal-body">
<p class="muted">Pega esto en tu mensaje y completa lo que puedas:</p>
<p style="white-space:pre-wrap;background:rgba(11,42,91,.05);border:1px solid rgba(220,235,255,.95);padding:12px;border-radius:16px;font-weight:800;">
Contexto:
Objetivo:
Urgencia (si aplica):
Lo que ya tengo (MFA / backups / accesos / correo):
      </p>
<div class="callout">No env√≠es contrase√±as, llaves, tokens ni datos personales.</div>
</div>
</div>
</div>
<div aria-live="polite" class="toast" id="toast" role="status">
<span class="spark"></span>
<span id="toastText">Copiado ‚úÖ</span>
</div>
<script>
(function(){

  const prog = document.getElementById('progress');
  if(prog){
    const onScroll = () => {
      const h = document.documentElement;
      const p = (h.scrollTop)/(h.scrollHeight - h.clientHeight);
      prog.style.width = Math.max(0, Math.min(100, p*100)) + '%';
    };
    window.addEventListener('scroll', onScroll, {passive:true});
    onScroll();
  }

  const toast = document.getElementById('toast');
  const toastText = document.getElementById('toastText');
  let toastT;
  function showToast(msg){
    if(!toast) return;
    toastText.textContent = msg;
    toast.classList.add('show');
    clearTimeout(toastT);
    toastT = setTimeout(()=>toast.classList.remove('show'), 1600);
  }

  const elPerfil = document.getElementById('perfil');
  const elMotivo = document.getElementById('motivo');
  const elMsg = document.getElementById('mensaje');
  const elUrg = document.getElementById('urgencia');
  const elCount = document.getElementById('count');
  const elUrgLabel = document.getElementById('urgLabel');
  const pvPerfil = document.getElementById('pvPerfil');
  const pvMotivo = document.getElementById('pvMotivo');
  const pvUrg = document.getElementById('pvUrg');
  const pvMsg = document.getElementById('pvMsg');
  const fill = document.getElementById('clarityFill');
  const badge = document.getElementById('clarityBadge');
  const hint = document.getElementById('hint');

  function urgToLabel(v){
    v = Number(v||0);
    if(v < 25) return 'tranqui';
    if(v < 60) return 'normal';
    if(v < 85) return 'alta';
    return 'cr√≠tica';
  }

  function computeClarity(){
    let score = 0;
    const name = document.getElementById('nombre').value.trim();
    const mail = document.getElementById('correo').value.trim();
    const msg = elMsg.value.trim();
    const has3lines = (msg.split(/\n+/).filter(Boolean).length >= 2) || (msg.length >= 80);

    if(name) score += 15;
    if(mail && mail.includes('@')) score += 15;
    if(elPerfil.value) score += 10;
    if(elMotivo.value) score += 10;
    if(msg.length >= 30) score += 20;
    if(has3lines) score += 15;
    if(Number(elUrg.value) !== 30) score += 5;
    score = Math.min(100, score);
    return score;
  }

  function render(){
    let msg = elMsg.value;
    if(msg.length > 500){ msg = msg.slice(0,500); elMsg.value = msg; }
    elCount.textContent = String(msg.length);

    const u = urgToLabel(elUrg.value);
    elUrgLabel.textContent = u;

    pvPerfil.textContent = elPerfil.value;
    pvMotivo.textContent = elMotivo.value;
    pvUrg.textContent = u;
    const compact = msg.trim().replace(/\s+/g,' ');
    pvMsg.textContent = compact ? (compact.slice(0,80) + (compact.length>80?'‚Ä¶':'')) : '‚Äî';

    const c = computeClarity();
    fill.style.width = c + '%';
    badge.textContent = c + '%';

    if(c < 40) hint.textContent = 'agrega contexto + objetivo (1‚Äì2 l√≠neas)';
    else if(c < 70) hint.textContent = 'bien: agrega urgencia y qu√© ya tienes';
    else hint.textContent = 'perfecto: listo para responder con plan';
  }

  ['change','input','keyup'].forEach(ev=>{
    elPerfil.addEventListener(ev, render);
    elMotivo.addEventListener(ev, render);
    elMsg.addEventListener(ev, render);
    elUrg.addEventListener(ev, render);
    document.getElementById('nombre').addEventListener(ev, render);
    document.getElementById('correo').addEventListener(ev, render);
  });
  render();

  const presets = document.querySelectorAll('[data-preset]');
  const presetText = {
    persona: "Contexto: (casa / cuentas / h√°bitos)\nObjetivo: (qu√© quieres mejorar)\nUrgencia: (si aplica)\n",
    startup: "Contexto: (equipo / correo / accesos / herramientas)\nObjetivo: (orden m√≠nimo que se sostenga)\nUrgencia: (si aplica)\n",
    taller: "Contexto: (p√∫blico y nivel)\nObjetivo: (tema + resultado esperado)\nFecha/duraci√≥n: (si aplica)\n"
  };
  presets.forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const key = btn.getAttribute('data-preset');
      if(key === 'persona') elPerfil.value = 'Persona';
      if(key === 'startup') elPerfil.value = 'Startup';
      if(key === 'taller') elMotivo.value = 'Taller / capacitaci√≥n';
      elMsg.value = presetText[key] + (elMsg.value.trim() ? ("\n" + elMsg.value.trim()) : "");
      render();
      showToast('Modo aplicado ‚ú®');
      elMsg.focus();
    });
  });

  document.getElementById('copyMsg').addEventListener('click', async ()=>{
    const nombreVal = document.getElementById('nombre').value.trim() || '‚Äî';
    const correoVal = document.getElementById('correo').value.trim() || '‚Äî';
    const payload =
      "Nombre: " + nombreVal + "\n" +
      "Correo: " + correoVal + "\n" +
      "Perfil: " + elPerfil.value + "\n" +
      "Motivo: " + elMotivo.value + "\n" +
      "Urgencia: " + urgToLabel(elUrg.value) + "\n\n" +
      "Mensaje:\n" + (elMsg.value.trim() || "‚Äî");
    try{
      await navigator.clipboard.writeText(payload);
      showToast('Copiado ‚úÖ');
    }catch(e){
      const t = document.createElement('textarea');
      t.value = payload; document.body.appendChild(t);
      t.select(); document.execCommand('copy'); document.body.removeChild(t);
      showToast('Copiado ‚úÖ');
    }
  });

  document.getElementById('suggestBtn').addEventListener('click', ()=>{
    const msg = elMsg.value.trim();
    let tips = [];
    if(msg.length < 30) tips.push("Agrega 1‚Äì2 l√≠neas de contexto.");
    if(!/objetivo/i.test(msg)) tips.push("Incluye expl√≠citamente tu objetivo.");
    if(!/urg/i.test(msg)) tips.push("Menciona urgencia (si aplica).");
    tips.push("No compartas datos sensibles.");
    showToast((tips.slice(0,2).join(' ')) || "Vas bien ‚úÖ");
  });

  const form = document.getElementById('contactForm');
  const status = document.getElementById('status');
  // === Turnstile callbacks (must be global functions for data-callback) ===
window._turnstile_ok = false;
window.onTurnstileSuccess = function(token){
  window._turnstile_ok = true;
  const b = document.getElementById('submitBtn');
  if(b) b.disabled = false;
};
window.onTurnstileExpired = function(){
  window._turnstile_ok = false;
  const b = document.getElementById('submitBtn');
  if(b) b.disabled = true;
};
window.onTurnstileError = function(){
  window._turnstile_ok = false;
  const b = document.getElementById('submitBtn');
  if(b) b.disabled = true;
  showToast('No se pudo verificar (intenta de nuevo)');
};

async function sendContact(payload){
  const res = await fetch('/api/contacto', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify(payload)
  });
  let data = null;
  try{ data = await res.json(); }catch(e){}
  if(!res.ok){
    const msg = (data && (data.error || data.message)) ? (data.error || data.message) : 'Error enviando. Intenta nuevamente.';
    throw new Error(msg);
  }
  return data;
}

form.addEventListener('submit', async (e)=>{
  e.preventDefault();

  const btn = document.getElementById('submitBtn');
  const nombre = document.getElementById('nombre').value.trim();
  const correo = document.getElementById('correo').value.trim();
  const perfil = elPerfil.value;
  const motivo = elMotivo.value;
  const mensaje = elMsg.value.trim();
  const urgencia = urgToLabel(elUrg.value);

  // Turnstile token is rendered as a hidden textarea by Cloudflare
  const tokenEl = document.querySelector('[name="cf-turnstile-response"]');
  const token = tokenEl ? tokenEl.value.trim() : '';

  // Basic client-side checks (server still validates everything)
  if(!nombre || !correo || !correo.includes('@')){
    status.className = 'status err';
    status.textContent = 'Revisa nombre y correo.';
    showToast('Falta info');
    return;
  }
  if(!token){
    status.className = 'status err';
    status.textContent = 'Completa la verificaci√≥n anti‚Äëspam para enviar.';
    showToast('Verificaci√≥n pendiente');
    return;
  }

  status.className = 'status';
  status.textContent = 'Enviando‚Ä¶';
  if(btn) btn.disabled = true;

  try{
    await sendContact({
      nombre, correo, perfil, motivo, mensaje, urgencia,
      turnstileToken: token,
      page: location.href,
      ts: new Date().toISOString()
    });

    status.className = 'status ok';
    status.textContent = 'Enviado ‚úÖ Te responderemos pronto.';
    showToast('Enviado ‚úÖ');

    // Reset form + Turnstile for next message
    form.reset();
    elUrg.value = 30;
    render();
    window._turnstile_ok = false;
    if(typeof turnstile !== 'undefined'){
      try{ turnstile.reset(); }catch(e){}
    }
    if(btn) btn.disabled = true;

  }catch(err){
    status.className = 'status err';
    status.textContent = err && err.message ? err.message : 'Error enviando. Intenta nuevamente.';
    showToast('Error');
    window._turnstile_ok = false;
    if(btn) btn.disabled = true;
    if(typeof turnstile !== 'undefined'){
      try{ turnstile.reset(); }catch(e){}
    }
  }
});

  document.getElementById('resetForm').addEventListener('click', ()=>{
    form.reset();
    elUrg.value = 30;
    render();
    showToast('Limpio üßº');
  });

})();
</script>
<script>
    // A√±o autom√°tico
    document.getElementById("year").textContent = new Date().getFullYear();
    // Reveal on scroll
    const reveals = Array.from(document.querySelectorAll('.reveal'));
const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if(e.isIntersecting){
          e.target.classList.add("on");
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.12 });
    reveals.forEach(el => io.observe(el));

    // Modals
    const modals = Array.from(document.querySelectorAll(".modal"));
    let lastFocus = null;

    function openModal(id){
      const modal = document.getElementById(id);
      if(!modal) return;
      lastFocus = document.activeElement;
      modal.classList.add("show");
      document.body.style.overflow = "hidden";
      // focus close button
      const closeBtn = modal.querySelector(".modal-close");
      if(closeBtn) closeBtn.focus();
    }
    function closeModal(modal){
      modal.classList.remove("show");
      document.body.style.overflow = "";
      if(lastFocus && typeof lastFocus.focus === "function") lastFocus.focus();
    }
    function closeAll(){
      modals.forEach(m => m.classList.contains("show") && closeModal(m));
    }

    // Open from any element with data-modal
    document.addEventListener("click", (e) => {
      const trigger = e.target.closest("[data-modal]");
      if(trigger){
        openModal(trigger.getAttribute("data-modal"));
      }
      // Close when clicking backdrop
      const open = e.target.classList && e.target.classList.contains("modal");
      if(open){
        closeModal(e.target);
      }
      // Close button
      const closeBtn = e.target.closest(".modal-close");
      if(closeBtn){
        closeModal(closeBtn.closest(".modal"));
      }
    });

    // Escape closes
    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape") closeAll();
      // simple focus trap for open modal
      const activeModal = modals.find(m => m.classList.contains("show"));
      if(!activeModal) return;
      if(e.key === "Tab"){
        const focusables = Array.from(activeModal.querySelectorAll('button, a, input, textarea, select, [tabindex]:not([tabindex="-1"])'))
          .filter(el => !el.hasAttribute("disabled"));
        if(focusables.length === 0) return;
        const first = focusables[0];
        const last = focusables[focusables.length - 1];
        if(e.shiftKey && document.activeElement === first){
          e.preventDefault(); last.focus();
        } else if(!e.shiftKey && document.activeElement === last){
          e.preventDefault(); first.focus();
        }
      }
    });
  </script>

<script>
(function(){
  const root = document.querySelector('[data-qs]');
  if(!root) return;

  const panels = Array.from(root.querySelectorAll('.qs-panel'));
  const prevBtn = root.querySelector('[data-qs-prev]');
  const nextBtn = root.querySelector('[data-qs-next]');
  const dots = Array.from(root.querySelectorAll('[data-qs-dot]'));

  let step = 0;

  function setStep(n){
    step = Math.max(0, Math.min(panels.length - 1, n));

    panels.forEach((p, i) => p.classList.toggle('is-active', i === step));

    if(prevBtn) prevBtn.disabled = (step === 0);
    if(nextBtn) nextBtn.disabled = (step === panels.length - 1);

    dots.forEach((d, i) => {
      const on = i === step;
      d.classList.toggle('is-on', on);
      d.setAttribute('aria-selected', on ? 'true' : 'false');
      d.setAttribute('tabindex', on ? '0' : '-1');
    });
  }

  if(prevBtn) prevBtn.addEventListener('click', () => setStep(step - 1));
  if(nextBtn) nextBtn.addEventListener('click', () => setStep(step + 1));
  dots.forEach(d => d.addEventListener('click', () => setStep(parseInt(d.getAttribute('data-qs-dot'), 10) || 0)));

  // Keyboard support (left/right)
  root.addEventListener('keydown', (e) => {
    if(e.key === 'ArrowLeft'){ setStep(step - 1); }
    if(e.key === 'ArrowRight'){ setStep(step + 1); }
  });

  setStep(0);
})();
</script>
<script>
  // Turnstile callbacks (habilitan/deshabilitan el bot√≥n Enviar)
  function onTurnstileSuccess(token){
    const t = document.getElementById('turnstileToken');
    if (t) t.value = token || '';
    const btn = document.getElementById('submitBtn');
    if (btn) btn.disabled = false;
    const s = document.getElementById('turnstileStatus');
    if (s) { s.textContent = 'Verificaci√≥n lista ‚úÖ'; s.style.opacity = '1'; }
  }
  function onTurnstileExpired(){
    const t = document.getElementById('turnstileToken');
    if (t) t.value = '';
    const btn = document.getElementById('submitBtn');
    if (btn) btn.disabled = true;
    const s = document.getElementById('turnstileStatus');
    if (s) { s.textContent = 'Verificaci√≥n expirada. Reintenta.'; s.style.opacity = '1'; }
  }
  function onTurnstileError(){
    const t = document.getElementById('turnstileToken');
    if (t) t.value = '';
    const btn = document.getElementById('submitBtn');
    if (btn) btn.disabled = true;
    const s = document.getElementById('turnstileStatus');
    if (s) { s.textContent = 'No se pudo cargar la verificaci√≥n (Turnstile).'; s.style.opacity = '1'; }
  }

  // Fallback: si Turnstile crea su propio campo, lo copiamos al hidden y habilitamos.
  document.addEventListener('DOMContentLoaded', () => {
    const btn = document.getElementById('submitBtn');
    if (btn) btn.disabled = true;

    const s = document.getElementById('turnstileStatus');
    const sync = () => {
      const field = document.querySelector('[name="cf-turnstile-response"]');
      const token = field && field.value ? field.value : '';
      const t = document.getElementById('turnstileToken');
      if (t && token && !t.value) t.value = token;
      if (btn) btn.disabled = !(t && t.value);
    };
    setInterval(sync, 500);
    setTimeout(sync, 1000);
  });
</script>



<script src="/aegis-menu.js" defer></script>
</body>
</html>
