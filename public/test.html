<!doctype html>
<html lang="es">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-PHHCK23VK6"></script>



  <script>
    // Year
    document.getElementById("year").textContent = new Date().getFullYear();

    // Mobile menu
    const btn = document.getElementById("menuBtn");
    const panel = document.getElementById("mobilePanel");
    function closeMobileMenu(){ panel.style.display="none"; btn.setAttribute("aria-expanded","false"); }
    function toggleMobileMenu(){
      const isOpen = btn.getAttribute("aria-expanded")==="true";
      if(isOpen) closeMobileMenu();
      else{ panel.style.display="block"; btn.setAttribute("aria-expanded","true"); }
    }
    btn.addEventListener("click", toggleMobileMenu);
    panel.querySelectorAll("a").forEach(a=>a.addEventListener("click", closeMobileMenu));
    window.addEventListener("resize", ()=>{ if(window.innerWidth>760) closeMobileMenu(); });

    // Scroll progress
    const progress = document.getElementById("progress");
    function onScroll(){
      const h = document.documentElement;
      const scrolled = (h.scrollTop) / (h.scrollHeight - h.clientHeight);
      progress.style.width = `${Math.max(0, Math.min(1, scrolled)) * 100}%`;
    }
    window.addEventListener("scroll", onScroll, { passive:true });
    onScroll();

    // Reveal
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting){
          e.target.classList.add("on");
          io.unobserve(e.target);
        }
      });
    }, { threshold:0.12 });
    document.querySelectorAll(".reveal").forEach(el=>io.observe(el));

    // Quiz data (editable fácil)
    // Tip: puedes cambiar/añadir preguntas acá mes a mes.
    const QUESTIONS_BASE = [
      {
        topic:"Phishing",
        q:"Te llega un correo “Tu cuenta será suspendida hoy. Haz clic y confirma”. ¿Qué haces?",
        sub:"Señales típicas: urgencia, miedo, link raro, petición de credenciales.",
        a:[
          "Hago clic rápido para que no se suspenda.",
          "Respondo el correo preguntando si es real.",
          "No hago clic: reviso el remitente, voy al sitio por mi cuenta y verifico desde ahí.",
          "Reenvío el correo a todos para avisar."
        ],
        correct:2,
        why:"Los ataques de phishing usan urgencia. Lo seguro es NO entrar por el enlace: entra por tu ruta habitual (bookmark/app) y verifica allí.",
        do:"Qué hacer hoy: activa MFA en el correo y usa un gestor de contraseñas."
      },
      {
        topic:"MFA",
        q:"¿Dónde conviene activar MFA (2FA) primero?",
        sub:"Piensa en “llaves maestras”.",
        a:[
          "Solo en redes sociales.",
          "En el correo y en cuentas con acceso a dinero/dominios/repos/cloud.",
          "Solo en el computador del trabajo.",
          "No sirve, igual se puede hackear."
        ],
        correct:1,
        why:"Si alguien toma tu correo, puede resetear contraseñas del resto. Prioriza correo + dominios + repos + cloud + banca.",
        do:"Qué hacer hoy: activa MFA en tu correo y guarda códigos de respaldo."
      },
      {
        topic:"Backups",
        q:"¿Qué significa tener “backups buenos”?",
        sub:"Pista: no basta con “tenerlos”.",
        a:[
          "Tengo un disco con copia de archivos.",
          "Tengo backups y probé restaurar, aunque sea una parte.",
          "Tengo una carpeta “Backup” en el escritorio.",
          "Uso la papelera de reciclaje."
        ],
        correct:1,
        why:"Backup sin prueba es esperanza. Probar restauración evita descubrir tarde que el backup era incompleto o corrupto.",
        do:"Qué hacer hoy: agenda una prueba de restauración corta (10–15 min)."
      },
      {
        topic:"Contraseñas",
        q:"¿Cuál es la mejor práctica para contraseñas?",
        sub:"Evitar reutilización es clave.",
        a:[
          "Una contraseña fuerte para todo.",
          "Contraseñas únicas + gestor + MFA.",
          "Cambiar la contraseña cada 2 días.",
          "Guardar contraseñas en notas del celular."
        ],
        correct:1,
        why:"La reutilización hace que una filtración te derrumbe todo. Un gestor permite únicas y largas sin memorizarlas.",
        do:"Qué hacer hoy: instala un gestor (Bitwarden u otro) y cambia las 3 cuentas más críticas."
      },
      {
        topic:"Actualizaciones",
        q:"¿Por qué actualizar el sistema y apps importa tanto?",
        sub:"Las vulnerabilidades suelen tener parches.",
        a:[
          "Solo por tener funciones nuevas.",
          "Porque los parches corrigen fallas que atacantes explotan.",
          "Porque si no, se vuelve más lento.",
          "No importa si tengo antivirus."
        ],
        correct:1,
        why:"Muchos ataques explotan fallas conocidas. Actualizar reduce superficie de ataque, incluso antes que herramientas extra.",
        do:"Qué hacer hoy: activa actualizaciones automáticas y reinicia cuando te lo pida."
      },
      {
        topic:"Dominios/DNS",
        q:"Si alguien compromete tu cuenta del dominio/DNS, ¿qué puede pasar?",
        sub:"Es más grave de lo que parece.",
        a:[
          "No pasa nada, solo cambia el nombre.",
          "Puede redirigir tu web/correo y robar datos o credenciales.",
          "Solo se cae el sitio un rato.",
          "Solo afecta a Google."
        ],
        correct:1,
        why:"Con DNS pueden redirigir tu tráfico (web/correo), montar páginas falsas y capturar logins.",
        do:"Qué hacer hoy: activa MFA en tu registrador de dominio y revisa accesos."
      },
      {
        topic:"Wi‑Fi",
        q:"Ves una Wi‑Fi pública llamada “FreeAirportWiFi”. ¿Qué es lo más seguro?",
        sub:"Evitar exponer sesiones/credenciales.",
        a:[
          "Conectarme y usar banca en línea.",
          "Conectarme, pero solo para redes sociales.",
          "Evitar acciones sensibles, usar VPN si tienes, o usar datos móviles.",
          "Desactivar el firewall para que ande mejor."
        ],
        correct:2,
        why:"Redes públicas pueden ser monitoreadas o falsas (evil twin). Evita banca/credenciales; VPN ayuda pero no es magia.",
        do:"Qué hacer hoy: desactiva auto‑conexión a Wi‑Fi y usa hotspot en urgencias."
      },
      {
        topic:"Permisos",
        q:"En una startup/pyme, ¿qué principio ayuda más a reducir daño si una cuenta cae?",
        sub:"Menos permisos, menos desastre.",
        a:[
          "Dar admin a todos para avanzar rápido.",
          "Mínimo privilegio: cada uno con lo necesario y nada más.",
          "Compartir una sola cuenta entre todos.",
          "No usar permisos para que no moleste."
        ],
        correct:1,
        why:"El mínimo privilegio limita el “blast radius”. Si una cuenta cae, el atacante no se lleva todo.",
        do:"Qué hacer hoy: revisa quién tiene admin y reduce permisos."
      },
      {
        topic:"Incidentes",
        q:"Sospechas que tu cuenta fue comprometida. ¿Primer paso?",
        sub:"Actuar rápido, pero ordenado.",
        a:[
          "Publicar en redes que me hackearon.",
          "Cambiar contraseña desde el mismo link sospechoso.",
          "Cambiar contraseña desde la vía oficial + cerrar sesiones + revisar MFA/recuperación.",
          "Formatear el computador inmediatamente."
        ],
        correct:2,
        why:"Cambia credenciales desde tu ruta habitual, cierra sesiones en dispositivos y revisa métodos de recuperación (correo/teléfono/MFA).",
        do:"Qué hacer hoy: revisa ‘sesiones activas’ y métodos de recuperación en tu correo."
      }
    ];

    // Elements
    const counter = document.getElementById("counter");
    const scoreEl = document.getElementById("score");
    const barFill = document.getElementById("barFill");
    const qEl = document.getElementById("question");
    const answersEl = document.getElementById("answers");
    const fb = document.getElementById("feedback");
    const fbTag = document.getElementById("fbTag");
    const fbTopic = document.getElementById("fbTopic");
    const fbText = document.getElementById("fbText");
    const fbDo = document.getElementById("fbDo");
    const fbMini = document.getElementById("fbMini");

    const startBtn = document.getElementById("startBtn");
    const randomBtn = document.getElementById("randomBtn");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const restartBtn = document.getElementById("restartBtn");

    let QUESTIONS = [];
    let idx = 0;
    let score = 0;
    let answered = {}; // idx -> selected
    let locked = {};   // idx -> true (show correct/wrong state)

    function shuffle(arr){
      const a = arr.slice();
      for(let i=a.length-1;i>0;i--){
        const j = Math.floor(Math.random()*(i+1));
        [a[i],a[j]]=[a[j],a[i]];
      }
      return a;
    }

    function init(randomize=false){
      QUESTIONS = randomize ? shuffle(QUESTIONS_BASE) : QUESTIONS_BASE.slice();
      idx = 0;
      score = 0;
      answered = {};
      locked = {};
      render();
      document.getElementById("quiz").scrollIntoView({ behavior:"smooth", block:"start" });
    }

    function setProgress(){
      const total = QUESTIONS.length || QUESTIONS_BASE.length;
      counter.textContent = `Pregunta ${Math.min(idx+1,total)} / ${total}`;
      scoreEl.textContent = `Puntaje: ${score}`;
      const p = total ? (Object.keys(locked).length/total)*100 : 0;
      barFill.style.width = `${Math.max(0, Math.min(100, p))}%`;
    }

    function render(){
      const total = QUESTIONS.length || QUESTIONS_BASE.length;
      const q = (QUESTIONS.length ? QUESTIONS[idx] : QUESTIONS_BASE[idx]);

      setProgress();

      qEl.innerHTML = `
        <h3>${q.q}</h3>
        <p>${q.sub || ""}</p>
      `;

      answersEl.innerHTML = "";
      fb.classList.remove("show");

      const selected = answered[idx];
      const isLocked = !!locked[idx];

      q.a.forEach((txt, i)=>{
        const div = document.createElement("button");
        div.type = "button";
        div.className = "ans";
        div.setAttribute("aria-label", `Respuesta ${i+1}`);
        div.innerHTML = `
          <span class="radio" aria-hidden="true"><span class="dot2"></span></span>
          <span style="font-weight:800;color:rgba(11,42,91,.92);">${txt}</span>
        `;

        if(selected===i) div.classList.add("selected");

        if(isLocked){
          if(i===q.correct) div.classList.add("correct");
          if(selected===i && selected!==q.correct) div.classList.add("wrong");
          div.disabled = true;
          div.style.cursor = "default";
        } else {
          div.addEventListener("click", ()=>choose(i));
        }

        answersEl.appendChild(div);
      });

      prevBtn.disabled = idx===0;
      nextBtn.textContent = idx===total-1 ? "Ver resultado" : "Siguiente";
    }

    function showFeedback(ok, q){
      fb.classList.add("show");
      fbTopic.textContent = q.topic || "Tema";
      if(ok){
        fbTag.textContent = "Correcto";
        fbTag.className = "tag ok";
        fbMini.textContent = "Buen hábito: repite esto siempre.";
      } else {
        fbTag.textContent = "A mejorar";
        fbTag.className = "tag bad";
        fbMini.textContent = "No pasa nada: esto le pasa a todos.";
      }
      fbText.textContent = q.why || "";
      fbDo.textContent = q.do ? `Qué hacer hoy: ${q.do.replace(/^Qué hacer hoy:\s*/i,"")}` : "Qué hacer hoy: aplica un mínimo (MFA + backups + accesos).";
    }

    function choose(i){
      const q = (QUESTIONS.length ? QUESTIONS[idx] : QUESTIONS_BASE[idx]);
      answered[idx] = i;

      const ok = (i===q.correct);
      if(!locked[idx]){
        if(ok) score += 1;
        locked[idx] = true;
      }

      // Rerender to show correct/wrong states
      render();
      showFeedback(ok, q);
    }

    function resultLevel(s, total){
      const pct = (s/total)*100;
      if(pct >= 85) return {label:"Muy sólido", tag:"ok", tip:"Sigue así: ahora construye ritual mensual + permisos mínimos."};
      if(pct >= 65) return {label:"Buen nivel", tag:"warn", tip:"Refuerza 2 cosas: backups probados y accesos/roles."};
      if(pct >= 45) return {label:"Base en construcción", tag:"warn", tip:"Empieza por MFA + gestor de contraseñas + backups probados."};
      return {label:"Partimos desde cero (bien)", tag:"bad", tip:"Perfecto: con 4 mínimos puedes mejorar muchísimo en 1 semana."};
    }

    function showFinal(){
      const total = QUESTIONS.length || QUESTIONS_BASE.length;
      const lvl = resultLevel(score, total);

      const tagCls = lvl.tag==="ok" ? "tag ok" : (lvl.tag==="bad" ? "tag bad" : "tag warn");

      qEl.innerHTML = `
        <h3>Resultado final</h3>
        <p class="muted">Puntaje: <strong>${score} / ${total}</strong> • Nivel: <span class="${tagCls}">${lvl.label}</span></p>
        <div class="callout">${lvl.tip}</div>
        <p class="muted" style="margin-top:10px;">
          Si quieres, te armamos un plan de “mínimos” para tu caso (persona/startup/pyme) en 1 página.
        </p>
      `;
      answersEl.innerHTML = `
        <a class="btn primary" href="contactanos.html">Ir a Contáctanos</a>
        <a class="btn" href="psocial.html">Ver Proyecto social</a>
        <button class="btn" type="button" id="reviewBtn">Revisar preguntas</button>
      `;
      fb.classList.remove("show");

      document.getElementById("reviewBtn").addEventListener("click", ()=>{
        idx = 0;
        render();
        document.getElementById("quiz").scrollIntoView({ behavior:"smooth", block:"start" });
      });

      // fill progress
      barFill.style.width = "100%";
      counter.textContent = `Completado • ${total} preguntas`;
      scoreEl.textContent = `Puntaje: ${score}`;
    }

    // Nav buttons
    prevBtn.addEventListener("click", ()=>{ if(idx>0){ idx--; render(); } });
    nextBtn.addEventListener("click", ()=>{
      const total = QUESTIONS.length || QUESTIONS_BASE.length;
      if(idx === total-1){
        showFinal();
        return;
      }
      idx++;
      render();
    });
    restartBtn.addEventListener("click", ()=>init(false));

    // Start + random
    startBtn.addEventListener("click", ()=>init(false));
    randomBtn.addEventListener("click", ()=>init(true));

    // Initial render (not started yet uses base)
    QUESTIONS = QUESTIONS_BASE.slice();
    render();
  </script>
<script>
(function(){
  const btn = document.getElementById('menuBtn');
  const panel = document.getElementById('mobilePanel');

  function setOpen(open){
    if(!btn || !panel) return;
    btn.setAttribute('aria-expanded', open ? 'true' : 'false');
    btn.classList.toggle('is-open', open);
    panel.classList.toggle('is-open', open);
  }

  function toggle(){
    const open = btn.getAttribute('aria-expanded') === 'true';
    setOpen(!open);
  }

  if(btn && panel){
    btn.setAttribute('aria-expanded','false');
    setOpen(false);

    btn.addEventListener('click', (e) => { e.preventDefault(); toggle(); });

    // Close menu when clicking a link
    panel.querySelectorAll('a').forEach(a => a.addEventListener('click', () => setOpen(false)));

    // Close when clicking outside
    document.addEventListener('click', (e) => {
      const open = btn.getAttribute('aria-expanded') === 'true';
      if(!open) return;
      const inside = panel.contains(e.target) || btn.contains(e.target);
      if(!inside) setOpen(false);
    });

    // Close on Esc
    document.addEventListener('keydown', (e) => { if(e.key === 'Escape') setOpen(false); });

    // Close when resizing to desktop
    window.addEventListener('resize', () => { if(window.innerWidth > 760) setOpen(false); });
  }

  // Active link highlight by page (and hash for the "Quiénes somos" anchor)
  const path = (location.pathname.split('/').pop() || 'index.html').toLowerCase();
  const hash = (location.hash || '').toLowerCase();

  document.querySelectorAll('#navLinks a').forEach(a => {
    const page = (a.getAttribute('data-page') || '').toLowerCase();
    const h = (a.getAttribute('data-hash') || '').toLowerCase();
    if((page && page === path) || (h && h === hash)){
      a.classList.add('active');
    }
  });
})();
</script>

</body>
</html>
